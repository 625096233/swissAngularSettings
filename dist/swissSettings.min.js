!function(){"use strict";angular.module("swissAngularSettings",["LocalStorageModule"])}(),function(){"use strict";function a(a,b){function c(a,b,c){if(!a)throw"Name must be defined";this.name=a,this.typeName=b,this.defaultValue=angular.isDefined(c)?j.call(this,c):void 0}function d(){var a=b.get(this.name);return angular.isDefined(a)&&null!==a?this.format(a):this.defaultValue}function e(c){if(!this.validate(c))throw"Invalid value: "+c;b.set(this.name,c),a.debug("AbstractField: saved field "+name+" with value: "+c)}function f(){return this.name}function g(){return this.typeName}function h(){throw"This method is abstract"}function i(){throw"This method is abstract"}function j(a){angular.isDefined(b.get(this.name))||this.setValue(a)}function k(){return{Name:this.name,Type:this.typeName,DefaultValue:this.defaultValue,value:this.getValue()}}return c.prototype={getValue:d,setValue:e,getName:f,getTypeName:g,validate:h,format:i,toJSON:k},c}angular.module("swissAngularSettings").factory("AbstractField",a),a.$inject=["$log","localStorageService"]}(),function(){"use strict";function a(a){function b(b,c){a.call(this,b,"ARRAY",c)}function c(a){return angular.isArray(a)}function d(a){return a}return b.prototype=Object.create(a.prototype),b.prototype.validate=c,b.prototype.format=d,b}angular.module("swissAngularSettings").factory("ArrayField",a),a.$inject=["AbstractField"]}(),function(){"use strict";function a(a){function b(b,c){a.call(this,b,"BOOLEAN",c)}function c(a){return"string"!=typeof a&&"boolean"!=typeof a?!1:"string"==typeof a?"true"===a||"false"===a:!0}function d(a){return"string"==typeof a?"true"===a:a}return b.prototype=Object.create(a.prototype),b.prototype.validate=c,b.prototype.format=d,b}angular.module("swissAngularSettings").factory("BooleanField",a),a.$inject=["AbstractField"]}(),function(){"use strict";function a(a){function b(b,c,d){if(!angular.isArray(c))throw"allowedValues must be array";if(0===c.length)throw"allowedValues must have at least one value";this._allowedValues=c,a.call(this,b,"ENUM",d)}function c(a){return-1!==this._allowedValues.indexOf(a)}function d(a){return a}return b.prototype=Object.create(a.prototype),b.prototype.validate=c,b.prototype.format=d,b}angular.module("swissAngularSettings").factory("EnumField",a),a.$inject=["AbstractField"]}(),function(){"use strict";function a(a){function b(b,c){a.call(this,b,"NUMBER",c)}function c(a){return"number"==typeof a}function d(a){return a}return b.prototype=Object.create(a.prototype),b.prototype.validate=c,b.prototype.format=d,b}angular.module("swissAngularSettings").factory("NumberField",a),a.$inject=["AbstractField"]}(),function(){"use strict";function a(a){function b(b,c){a.call(this,b,"OBJECT",c)}function c(a){return angular.isObject(a)&&!angular.isArray(a)}function d(a){return a}return b.prototype=Object.create(a.prototype),b.prototype.validate=c,b.prototype.format=d,b}angular.module("swissAngularSettings").factory("ObjectField",a),a.$inject=["AbstractField"]}(),function(){"use strict";function a(a){function b(b,c){a.call(this,b,"STRING",c)}function c(a){return"string"==typeof a}function d(a){return a}return b.prototype=Object.create(a.prototype),b.prototype.validate=c,b.prototype.format=d,b}angular.module("swissAngularSettings").factory("StringField",a),a.$inject=["AbstractField"]}(),function(){"use strict";function a(){function a(a,b){function c(c){function f(a){return function(){return d[a].getValue()}}function g(a){return function(b){return d[a].setValue(b)}}a.debug("swissSettingsService: createItem() - ",c);var h=b.get(c.type);if(!h)throw"Unknown Type: "+h;var i=c.params[0];if(angular.isDefined(d[i]))throw"Field "+i+" already exists";d[i]=Object.create(h.prototype),h.apply(d[i],c.params);var j=i.charAt(0).toUpperCase()+i.substring(1);e["get"+j]=f(i),e["set"+j]=g(i)}a.debug("swissSettingsService: Creating settings service interface",i);var d={},e={};return angular.forEach(i,c),a.debug("swissSettingsService: settingsService:",e),e}function b(a,b){i.push({type:"BooleanField",params:arguments})}function c(a,b){i.push({type:"StringField",params:arguments})}function d(a,b){i.push({type:"NumberField",params:arguments})}function e(a,b){i.push({type:"ArrayField",params:arguments})}function f(a,b,c){i.push({type:"EnumField",params:arguments})}function g(a,b){i.push({type:"ObjectField",params:arguments})}var h=this;h.registerBooleanField=b,h.registerStringField=c,h.registerNumberField=d,h.registerArrayField=e,h.registerEnumField=f,h.registerObjectField=g,h.$get=a;var i=[];return a.$inject=["$log","$injector"],h}angular.module("swissAngularSettings").provider("swissSettingsService",a)}();