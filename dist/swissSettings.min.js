!function(){"use strict";angular.module("swissAngularSettings",["LocalStorageModule"])}(),function(){"use strict";function a(a){function b(a,b,c){if(!a)throw"Name must be defined";this.name=a,this.typeName=b,this.defaultValue=angular.isDefined(c)?i.call(this,c):void 0,this.value=void 0}function c(){return void 0===this.value&&(this.value=a.get(this.name)),angular.isDefined(this.value)&&null!==this.value?this.format(this.value):this.defaultValue}function d(b){if(!this.validate(b))throw"Invalid value: "+b;a.set(this.name,b),this.value=b}function e(){return this.name}function f(){return this.typeName}function g(){throw"This method is abstract"}function h(){throw"This method is abstract"}function i(b){var c=a.get(this.name);null!==c&&angular.isDefined(c)||this.setValue(b)}function j(){return{Name:this.name,Type:this.typeName,DefaultValue:this.defaultValue,value:this.getValue()}}return b.prototype={getValue:c,setValue:d,getName:e,getTypeName:f,validate:g,format:h,toJSON:j},b}angular.module("swissAngularSettings").factory("AbstractField",a),a.$inject=["localStorageService"]}(),function(){"use strict";function a(a){function b(b,c){a.call(this,b,"ARRAY",c)}function c(a){return angular.isArray(a)}function d(a){return a}return b.prototype=Object.create(a.prototype),b.prototype.validate=c,b.prototype.format=d,b}angular.module("swissAngularSettings").factory("ArrayField",a),a.$inject=["AbstractField"]}(),function(){"use strict";function a(a){function b(b,c){a.call(this,b,"BOOLEAN",c)}function c(a){return"string"!=typeof a&&"boolean"!=typeof a?!1:"string"==typeof a?"true"===a||"false"===a:!0}function d(a){return"string"==typeof a?"true"===a:a}return b.prototype=Object.create(a.prototype),b.prototype.validate=c,b.prototype.format=d,b}angular.module("swissAngularSettings").factory("BooleanField",a),a.$inject=["AbstractField"]}(),function(){"use strict";function a(a){function b(b,c,d){if(!angular.isArray(c))throw"allowedValues must be array";if(0===c.length)throw"allowedValues must have at least one value";this._allowedValues=c,a.call(this,b,"ENUM",d)}function c(a){return-1!==this._allowedValues.indexOf(a)}function d(a){return a}return b.prototype=Object.create(a.prototype),b.prototype.validate=c,b.prototype.format=d,b}angular.module("swissAngularSettings").factory("EnumField",a),a.$inject=["AbstractField"]}(),function(){"use strict";function a(a){function b(b,c){a.call(this,b,"NUMBER",c)}function c(a){return"number"==typeof a}function d(a){return a}return b.prototype=Object.create(a.prototype),b.prototype.validate=c,b.prototype.format=d,b}angular.module("swissAngularSettings").factory("NumberField",a),a.$inject=["AbstractField"]}(),function(){"use strict";function a(a){function b(b,c){a.call(this,b,"OBJECT",c)}function c(a){return angular.isObject(a)&&!angular.isArray(a)}function d(a){return a}return b.prototype=Object.create(a.prototype),b.prototype.validate=c,b.prototype.format=d,b}angular.module("swissAngularSettings").factory("ObjectField",a),a.$inject=["AbstractField"]}(),function(){"use strict";function a(a){function b(b,c){a.call(this,b,"STRING",c)}function c(a){return"string"==typeof a}function d(a){return a}return b.prototype=Object.create(a.prototype),b.prototype.validate=c,b.prototype.format=d,b}angular.module("swissAngularSettings").factory("StringField",a),a.$inject=["AbstractField"]}(),function(){"use strict";function a(){function a(a,b,c,d){function e(c){function d(a){return function(){return g[a].getValue()}}function e(a){return function(b){return g[a].setValue(b)}}a.debug("swissSettingsService: createItem() - ",c);var f=b.get(c.type);if(!f)throw"Unknown Type: "+f;var i=c.params[0];if(angular.isDefined(g[i]))throw"Field "+i+" already exists";g[i]=Object.create(f.prototype),f.apply(g[i],c.params);var j=i.charAt(0).toUpperCase()+i.substring(1);h["get"+j]=d(i),h["set"+j]=e(i)}function f(){var b=c.get(d);j&&b!==j&&(a.debug("swissSettingsService: will clear local storage as new service version"),a.debug("swissSettingsService: serviceVersion = "+j+", lastVersion = "+b),c.clearAll(),c.set(d,j))}a.debug("swissSettingsService: Creating settings service interface",k);var g={},h={};return angular.forEach(k,e),f(),a.debug("swissSettingsService: settingsService was created, version "+j),h}function b(a){j=a}function c(a,b){k.push({type:"BooleanField",params:arguments})}function d(a,b){k.push({type:"StringField",params:arguments})}function e(a,b){k.push({type:"NumberField",params:arguments})}function f(a,b){k.push({type:"ArrayField",params:arguments})}function g(a,b,c){k.push({type:"EnumField",params:arguments})}function h(a,b){k.push({type:"ObjectField",params:arguments})}var i=this;i.setVersion=b,i.registerBooleanField=c,i.registerStringField=d,i.registerNumberField=e,i.registerArrayField=f,i.registerEnumField=g,i.registerObjectField=h,i.$get=a;var j,k=[];return a.$inject=["$log","$injector","localStorageService","serviceVersionKey"],i}angular.module("swissAngularSettings").constant("serviceVersionKey","serviceVersion").provider("swissSettingsService",a)}();